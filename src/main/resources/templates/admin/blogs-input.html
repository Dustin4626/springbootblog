<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<title>blogs-input</title>
</head>
<body>

<!-- 	<nav th:replace="~{admin/_layout :: navbar}">..</nav> -->
	<div class="container-fluid">
		<div class="row">
<!-- 			<nav th:replace="~{admin/_layout :: sidebar(active='blogs.html')}"></nav> -->
			<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
<!-- 			<h2>Blog新增</h2> -->
<!-- 			<div class="table-responsive"> -->
<!-- 				<form th:action="@{/admin/blogs/}" th:object="${blog}" method="post"> -->
<!-- 					<table class="table table-striped table-sm"> -->
<!-- 						<thead> -->
<!-- 							<tr> -->
<!-- 								<th>#</th> -->
<!-- 								<th>name</th> -->
<!-- 							</tr> -->
<!-- 						</thead> -->
<!-- 						<tbody> -->
<!-- 							<tr> -->
<!-- 								<td th:text="*{id}">id</td> -->
<!-- 								<td> -->
<!-- 									<input type="text" th:field="*{name}" /> -->
<!-- 									<div style="color: red;" th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</div> -->
<!-- 								</td> -->
<!-- 							</tr> -->
<!-- 						</tbody> -->
<!-- 					</table> -->
<!-- 					<input type="submit" class="btn btn-outline-dark" value="提交" />  -->
<!-- 					<input type="hidden" th:field="*{id}" />  -->
<!-- 					<a href="#" th:href="@{/admin/types}" class="btn btn-outline-dark">返回</a> -->
<!-- 				</form> -->

	<div class="input-group mb-3">
	  <div class="input-group-prepend">
	    <span class="input-group-text" id="inputGroup-sizing-default">標題</span>
	  </div>
	  <input type="text" class="form-control" id="name">
	</div>
	<div id="summernote"></div>
	<button id="save" class="btn btn-primary" onclick="save()" type="button">Save</button>

	<br>   
<!-- 			</div> -->

 	<div class="row">
	    <div class="col-sm-4">
<!-- 	      <div class="text-info">Multi-select+JSON+Token Mode</div><br> -->
	      <div class="dropdown-mul-1">
	        <select style="display:none"  name="" id="" multiple placeholder="Select"> </select>
	      </div>
	    </div>
	</div>
			</main>
		</div>
	</div>
	<th:block th:replace="admin/_layout :: script"></th:block>
	
</body>
<!-- add plugins summernote-Bootstrap 4 editor -->
<link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.js"></script>

<!-- Searchable Multi-select Dropdown Plugin With jQuery - Dropdown.js -->
<link th:href="@{/css/jquery.dropdown.css}" rel="stylesheet">
<script th:src="@{/js/jquery.dropdown.js}"></script>
<script>
	getTags();
	function getTags(){
		$.ajax({
			url: "/admin/tags",
			dataType: "json",
			type: "GET",
			error: function(XMLHttpRequest, textStatus, errorThrown) {
				 alert('伺服器連結錯誤'); 
			},
			success: function(data, textStatus) {
				
				var d1 = $('.dropdown-mul-1').dropdown({
				    data: data,
				    limitCount: 40,
				    multipleMode: 'label',
				    choice: function () {
				      console.log(arguments,this);
				      
// 						alert(JSON.stringify(arguments[1]));
				    }
				});	
			}
	    });	
	}

	
// 	summernote-Bootstrap 4 editor example	
		function save() {
		  var content = $('#summernote').summernote('code');
		  var title = $("#title").val();
		  
// 		  $('#summernote').summernote('destroy');
// 		  alert(markup);

		  $.ajax({
				url: "/admin/blogs",
				dataType: "json",
				type: "POST",
				data:{content:content},
				error: function(XMLHttpRequest, textStatus, errorThrown) {
					 alert('伺服器連結錯誤'); 
				},
				success: function(data, textStatus) {
					
				}
		    });	
		}
		
      $('#summernote').summernote({
        placeholder: 'temp',
        tabsize: 2,
//         callbacks: {
//             onChange: function(contents, $editable) {
//               $("#lawsContent").val($("#summernote").summernote('code'));
//             }
//           },
        height: 300,
      });
      
</script>
</html>